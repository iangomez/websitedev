{% extends 'base.html' %}

{% block head %}
  <script>
      tinymce.init({
        selector: 'textarea',
        height: 600,
        plugins: [
          'advlist autolink link image lists charmap print preview hr anchor pagebreak spellchecker',
          'searchreplace wordcount visualblocks visualchars code fullscreen insertdatetime media nonbreaking',
          'save table directionality emoticons template paste'
        ],
        content_css: 'css/content.css',
        toolbar: 'insertfile undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image | print preview media fullpage | forecolor backcolor emoticons'
      });
  </script>
  {% endblock %}

{% block header %}
  <h1>{% block title %}Edit "{{ post['title'] }}"{% endblock %}</h1>
{% endblock %}

{% block content %}
  <main role="main" class="container">
      <form method="post">
          <label for="title">Title</label>
          <input name="title" id="title" class="form-control" value="{{ request.form['title'] or post['title'] }}" required>
          <label for="tags">Tags</label>
          <input name="tags" id="tags" class="form-control" value="{{ request.form['tags'] }}" required>
          <label for="body">Body</label>
          <textarea name="body" class="form-control" id="body">{{ request.form['body'] or post['body'] }}</textarea>
          <input type="submit" value="Save">
        </form>

        <hr>
        <form action="{{ url_for('blog.delete', id=post['id']) }}" method="post">
          <input class="danger" type="submit" value="Delete" onclick="return confirm('Are you sure?');">
        </form>

  </main>
{% endblock %}

{% block footer %}{% endblock %}